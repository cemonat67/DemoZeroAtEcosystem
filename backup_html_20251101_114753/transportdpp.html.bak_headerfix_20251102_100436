<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <title>Transportation & Mobility Carbon DPP - Rabateks</title>
    <style>
        *{margin:0;padding:0;box-sizing:border-box}
        body{
            font-family:-apple-system,BlinkMacSystemFont,'Segoe UI',Roboto,sans-serif;
            background:#fff;color:#333;line-height:1.6
        }
        .header{
            background:#fff;padding:20px;border-bottom:2px solid #f0f0f0;
            display:flex;align-items:center;justify-content:space-between
        }
        .header-left{display:flex;align-items:center;gap:15px}
        .logo{
            width:50px;height:50px;border-radius:50%;
            background-image:url('data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNTAiIGhlaWdodD0iNTAiIHZpZXdCb3g9IjAgMCA1MCA1MCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPGNpcmNsZSBjeD0iMjUiIGN5PSIyNSIgcj0iMjUiIGZpbGw9IiMwMDU1MzAiLz4KPHN0eWxlPgoudGV4dCB7IGZvbnQtZmFtaWx5OiBBcmlhbCwgc2Fucy1zZXJpZjsgZm9udC1zaXplOiAxNHB4OyBmb250LXdlaWdodDogYm9sZDsgZmlsbDogd2hpdGU7IH0KPC9zdHlsZT4KPHR0ZXh0IHg9IjUwJSIgeT0iMjBweCIgdGV4dC1hbmNob3I9Im1pZGRsZSIgY2xhc3M9InRleHQiPlJhYmF0ZWtzPC90ZXh0Pgo8dHRleHQgeD0iNTAlIiB5PSIzNXB4IiB0ZXh0LWFuY2hvcj0ibWlkZGxlIiBjbGFzcz0idGV4dCIgZm9udC1zaXplPSI4cHgiPnJhYmF0ZWtzLmNvbTwvdHRleHQ+Cjwvc3ZnPg==');
            background-size:contain;background-repeat:no-repeat;background-position:center
        }
        .header-text h1{color:#005530;font-size:24px;font-weight:700}
        .header-text .subtitle{color:#666;font-size:14px}
        .dpp-title{color:#f9ba00;font-weight:600}

        .back-to-dashboard{
            background:#005530;color:#fff;padding:10px 20px;border:none;border-radius:10px;
            font-weight:600;cursor:pointer;transition:.15s all;text-decoration:none;
            display:inline-flex;align-items:center;gap:8px;font-size:14px;
            box-shadow:0 2px 8px rgba(0,85,48,.25)
        }
        .back-to-dashboard:hover{background:#004429;transform:translateY(-1px)}
        .container{max-width:1200px;margin:0 auto;padding:20px}

        .phase-indicator{
            background:#f9ba00;color:#02154e;padding:10px 20px;border-radius:25px;
            font-size:14px;font-weight:700;display:inline-block;margin-bottom:25px
        }

        .commute-analysis,.business-travel,.remote-work-impact,.chart-container{
            background:#fff;border-radius:15px;padding:30px;margin-bottom:25px;
            box-shadow:0 8px 25px rgba(0,0,0,.1)
        }
        .commute-analysis{border-top:5px solid #D51635}
        .business-travel{border-left:5px solid #02154e;background:linear-gradient(135deg,#f0f8ff 0%,#e8f4f8 100%)}
        .remote-work-impact{border-left:5px solid #005530;background:linear-gradient(135deg,#f0f8f0 0%,#e8f5e8 100%)}

        .input-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(280px,1fr));gap:25px;margin-bottom:30px}
        .input-group{display:flex;flex-direction:column;gap:8px}
        .input-group label{font-size:13px;color:#02154e;font-weight:700;text-transform:uppercase;letter-spacing:.5px}
        .input-group input,.input-group select{
            padding:12px;border:2px solid #e0e0e0;border-radius:8px;font-size:15px;transition:.2s;background:#fff
        }
        .input-group input:focus,.input-group select:focus{outline:none;border-color:#D51635;box-shadow:0 0 0 3px rgba(213,22,53,.1)}

        .transport-modes{display:grid;grid-template-columns:repeat(auto-fit,minmax(260px,1fr));gap:20px;margin-bottom:25px}
        .transport-card{background:linear-gradient(135deg,#fff5f5 0%,#ffeaea 100%);border-radius:15px;padding:25px;border-left:5px solid #D51635;transition:.2s;box-shadow:0 4px 15px rgba(0,0,0,.08)}
        .transport-card:hover{transform:translateY(-4px)}
        .transport-title{font-size:18px;font-weight:700;color:#D51635;margin-bottom:15px;display:flex;align-items:center;gap:10px}
        .transport-stats{display:grid;grid-template-columns:1fr 1fr;gap:15px;margin-bottom:15px}
        .stat-input{display:flex;flex-direction:column;gap:5px}
        .stat-input label{font-size:11px;color:#666;text-transform:uppercase;letter-spacing:.5px}
        .stat-input input{padding:8px;border:1px solid #ddd;border-radius:6px;font-size:14px}
        .icon{width:24px;height:24px;fill:currentColor}

        .carbon-result{background:#fff;padding:15px;border-radius:8px;text-align:center;border-left:3px solid #D51635}
        .carbon-value{font-size:20px;font-weight:700;color:#D51635;margin-bottom:5px}
        .carbon-unit{font-size:11px;color:#666;text-transform:uppercase}

        .dashboard-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(320px,1fr));gap:25px;margin-bottom:30px}
        .metric-card{background:#fff;border-radius:15px;padding:30px;box-shadow:0 8px 25px rgba(0,0,0,.1);border-top:5px solid #D51635;transition:.2s}
        .metric-card:hover{transform:translateY(-4px)}
        .metric-title{font-size:16px;color:#02154e;margin-bottom:18px;display:flex;align-items:center;gap:10px;font-weight:600}
        .metric-value{font-size:36px;font-weight:700;color:#D51635;margin-bottom:8px}
        .metric-unit{color:#666;font-size:14px;margin-bottom:18px;text-transform:uppercase;letter-spacing:.5px}
        .progress-bar{width:100%;height:10px;background:#f0f0f0;border-radius:5px;overflow:hidden;margin-bottom:15px}
        .progress-fill{height:100%;background:linear-gradient(90deg,#D51635,#b01229);transition:width .3s}
        .efficiency-badge{display:inline-block;padding:6px 12px;border-radius:15px;font-size:11px;font-weight:700;text-transform:uppercase;letter-spacing:.5px}
        .badge-excellent{background:#e8f5e8;color:#005530}.badge-good{background:#fffbf0;color:#f9ba00}
        .badge-attention{background:#fff5f5;color:#D51635}.badge-critical{background:#f3e5f5;color:#02154e}

        .travel-grid,.impact-stats{display:grid;grid-template-columns:repeat(auto-fit,minmax(200px,1fr));gap:20px;margin-top:20px}
        .travel-item,.impact-item{background:#fff;padding:20px;border-radius:10px;text-align:center;box-shadow:0 4px 15px rgba(0,0,0,.05)}
        .travel-type{font-size:16px;font-weight:700;color:#02154e;margin-bottom:15px}
        .impact-value{font-size:24px;font-weight:700;color:#005530;margin-bottom:5px}
        .impact-label{font-size:12px;color:#666;text-transform:uppercase;letter-spacing:.5px}

        .calculate-btn{
            background:linear-gradient(135deg,#D51635 0%,#02154e 100%);color:#fff;padding:16px 24px;border:none;border-radius:10px;
            font-size:16px;font-weight:700;cursor:pointer;transition:.15s;width:100%;margin-top:10px;text-transform:uppercase;letter-spacing:1px
        }
        .calculate-btn:hover{transform:translateY(-2px);box-shadow:0 10px 25px rgba(0,0,0,.2)}

        @media (max-width:768px){
            .container{padding:10px}
            .input-grid{grid-template-columns:1fr}
            .transport-modes{grid-template-columns:1fr}
            .dashboard-grid{grid-template-columns:1fr}
            .header{flex-direction:column;gap:15px}
            .header-left{justify-content:center}
        }
    </style>

<!-- ICON LIBRARIES -->
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.css">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@tabler/icons-webfont@latest/tabler-icons.min.css">
<!-- END ICON LIBRARIES -->

</head>
<body>
<div id="brand-logo" style="position:absolute;left:24px;top:12px;z-index:9999;"><img src="../assets/img/zaplogo.svg?v=4" alt="Zero@Production" style="height:84px;width:auto;"></div>

<header class="header">
    <div class="header-left">
        <div class="logo"></div>
        <div class="header-text">
            <div id="zpp-head" style="text-align:center;margin:10px 0 12px 0;"><h1 style="margin:0 0 6px 0;font-weight:700;"><span style="color:#00062e">Zero</span><span class="dpp-title" style="color:#f9ba00">@</span><span style="color:#00062e">Production</span> <span class="dpp-title" style="color:#f9ba00">DPP</span> <span style="color:#00062e">Dashboard</span></h1><p class="subtitle" style="margin:4px 0 0 0;font-weight:600;color:#02154e;">Digital Product Passport ‚Ä¢ Energy Monitoring ‚Ä¢ Water Management ‚Ä¢ Utility Optimization</p></div>
            
        </div>
    </div>
    <!-- HREF'i JS ayarlayacak -->
    <a class="back-to-dashboard" href="index.html">‚Üê Back to Main Dashboard</a>
</header>

<div class="container">
    <div class="phase-indicator">PHASE 3 - TRANSPORTATION & MOBILITY</div>

    <div class="commute-analysis">
        <h2 style="color:#D51635;margin-bottom:25px;font-size:24px;">üöó Employee Commuting Analysis</h2>

        <div class="input-grid">
            <div class="input-group">
                <label>Total Employees</label>
                <input type="number" id="total_employees" value="180" onchange="calculateTransportCarbon()">
            </div>
            <div class="input-group">
                <label>Average Commute Distance (km one-way)</label>
                <input type="number" id="avg_distance" value="25" onchange="calculateTransportCarbon()">
            </div>
            <div class="input-group">
                <label>Working Days per Month</label>
                <input type="number" id="working_days" value="22" onchange="calculateTransportCarbon()">
            </div>
            <div class="input-group">
                <label>Remote Work Days per Month</label>
                <input type="number" id="remote_days" value="4" onchange="calculateTransportCarbon()">
            </div>
        </div>

        <div class="transport-modes">
            <div class="transport-card">
                <div class="transport-title">
                    <svg class="icon" viewBox="0 0 24 24"><path d="M5,11L6.5,6.5H17.5L19,11M17.5,16A1.5,1.5 0 0,1 16,14.5A1.5,1.5 0 0,1 17.5,13A1.5,1.5 0 0,1 19,14.5A1.5,1.5 0 0,1 17.5,16M6.5,16A1.5,1.5 0 0,1 5,14.5A1.5,1.5 0 0,1 6.5,13A1.5,1.5 0 0,1 8,14.5A1.5,1.5 0 0,1 6.5,16M18.92,6C18.72,5.42 18.16,5 17.5,5H6.5C5.84,5 5.28,5.42 5.08,6L3,12V20A2,2 0 0,0 5,22H6A2,2 0 0,0 8,20V19H16V20A2,2 0 0,0 18,22H19A2,2 0 0,0 21,20V12L18.92,6Z"/></svg>
                    Private Car
                </div>
                <div class="transport-stats">
                    <div class="stat-input">
                        <label>Employees (%)</label>
                        <input type="number" id="car_percentage" value="65" onchange="calculateTransportCarbon()">
                    </div>
                    <div class="stat-input">
                        <label>Fuel Efficiency (L/100km)</label>
                        <input type="number" id="car_efficiency" value="8.5" onchange="calculateTransportCarbon()">
                    </div>
                </div>
                <div class="carbon-result">
                    <div class="carbon-value" id="car_carbon">28.5</div>
                    <div class="carbon-unit">tons CO‚ÇÇ/month</div>
                </div>
            </div>

            <div class="transport-card">
                <div class="transport-title">
                    <svg class="icon" viewBox="0 0 24 24"><path d="M12,2A2,2 0 0,1 14,4A2,2 0 0,1 12,6A2,2 0 0,1 10,4A2,2 0 0,1 12,2M21,9V7L15,1H9V3H15L19,7V9H21M15,9H22L20,16H22A2,2 0 0,1 22,18V20A2,2 0 0,1 20,22H4A2,2 0 0,1 2,20V18A2,2 0 0,1 4,16H6L4,9H11V7H15V9Z"/></svg>
                    Public Transport
                </div>
                <div class="transport-stats">
                    <div class="stat-input">
                        <label>Employees (%)</label>
                        <input type="number" id="public_percentage" value="25" onchange="calculateTransportCarbon()">
                    </div>
                    <div class="stat-input">
                        <label>CO‚ÇÇ Factor (kg/km)</label>
                        <input type="number" step="0.01" id="public_factor" value="0.06" onchange="calculateTransportCarbon()">
                    </div>
                </div>
                <div class="carbon-result">
                    <div class="carbon-value" id="public_carbon">3.3</div>
                    <div class="carbon-unit">tons CO‚ÇÇ/month</div>
                </div>
            </div>

            <div class="transport-card">
                <div class="transport-title">
                    <svg class="icon" viewBox="0 0 24 24"><path d="M5,20.5A3.5,3.5 0 0,1 1.5,17A3.5,3.5 0 0,1 5,13.5A3.5,3.5 0 0,1 8.5,17A3.5,3.5 0 0,1 5,20.5M5,12A5,5 0 0,0 0,17A5,5 0 0,0 5,22A5,5 0 0,0 10,17A5,5 0 0,0 5,12M14.8,16.6L13.35,15.15L16.5,12L13.35,8.85L14.8,7.4L19.4,12L14.8,16.6Z"/></svg>
                    Bicycle & Walking
                </div>
                <div class="transport-stats">
                    <div class="stat-input">
                        <label>Employees (%)</label>
                        <input type="number" id="bike_percentage" value="10" onchange="calculateTransportCarbon()">
                    </div>
                    <div class="stat-input">
                        <label>CO‚ÇÇ Factor (kg/km)</label>
                        <input type="number" step="0.01" id="bike_factor" value="0.00" onchange="calculateTransportCarbon()">
                    </div>
                </div>
                <div class="carbon-result">
                    <div class="carbon-value" id="bike_carbon">0.0</div>
                    <div class="carbon-unit">tons CO‚ÇÇ/month</div>
                </div>
            </div>
        </div>

        <button class="calculate-btn" onclick="calculateTransportCarbon()">üîÑ Recalculate</button>
    </div>

    <div class="business-travel">
        <h2 style="color:#02154e;margin-bottom:25px;font-size:24px;">‚úàÔ∏è Business Travel Analysis</h2>

        <div class="input-grid">
            <div class="input-group">
                <label>Domestic Flights per Month</label>
                <input type="number" id="domestic_flights" value="45" onchange="calculateTransportCarbon()">
            </div>
            <div class="input-group">
                <label>Average Domestic Distance (km)</label>
                <input type="number" id="domestic_distance" value="800" onchange="calculateTransportCarbon()">
            </div>
            <div class="input-group">
                <label>International Flights per Month</label>
                <input type="number" id="international_flights" value="12" onchange="calculateTransportCarbon()">
            </div>
            <div class="input-group">
                <label>Average International Distance (km)</label>
                <input type="number" id="international_distance" value="3500" onchange="calculateTransportCarbon()">
            </div>
        </div>

        <div class="travel-grid">
            <div class="travel-item">
                <div class="travel-type">Domestic Flights</div>
                <div class="carbon-result">
                    <div class="carbon-value" id="domestic_flight_carbon">4.1</div>
                    <div class="carbon-unit">tons CO‚ÇÇ/month</div>
                </div>
            </div>
            <div class="travel-item">
                <div class="travel-type">International Flights</div>
                <div class="carbon-result">
                    <div class="carbon-value" id="international_flight_carbon">7.8</div>
                    <div class="carbon-unit">tons CO‚ÇÇ/month</div>
                </div>
            </div>
            <div class="travel-item">
                <div class="travel-type">Total Business Travel</div>
                <div class="carbon-result">
                    <div class="carbon-value" id="total_business_travel">11.9</div>
                    <div class="carbon-unit">tons CO‚ÇÇ/month</div>
                </div>
            </div>
        </div>
    </div>

    <div class="remote-work-impact">
        <h2 style="color:#005530;margin-bottom:25px;font-size:24px;">üè† Remote Work Impact Analysis</h2>
        <div class="impact-stats">
            <div class="impact-item">
                <div class="impact-value" id="carbon_saved">6.2</div>
                <div class="impact-label">tons CO‚ÇÇ saved/month</div>
            </div>
            <div class="impact-item">
                <div class="impact-value" id="km_reduced">47,520</div>
                <div class="impact-label">km travel reduced/month</div>
            </div>
            <div class="impact-item">
                <div class="impact-value" id="fuel_saved">4,038</div>
                <div class="impact-label">liters fuel saved/month</div>
            </div>
            <div class="impact-item">
                <div class="impact-value" id="cost_saved">$8,420</div>
                <div class="impact-label">travel cost saved/month</div>
            </div>
        </div>
    </div>

    <div class="dashboard-grid">
        <div class="metric-card">
            <div class="metric-title">
                <svg class="icon" viewBox="0 0 24 24"><path d="M13,14H11V10H13M13,18H11V16H13M1,21H23L12,2L1,21Z"/></svg>
                Total Transportation Footprint
            </div>
            <div class="metric-value" id="total_transport_carbon">43.7</div>
            <div class="metric-unit">tons CO‚ÇÇ/month</div>
            <div class="progress-bar"><div class="progress-fill" id="pb_total" style="width:87%"></div></div>
            <span class="efficiency-badge badge-critical" id="badge_total">CRITICAL IMPACT</span>
        </div>

        <div class="metric-card">
            <div class="metric-title">
                <svg class="icon" viewBox="0 0 24 24"><path d="M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10,10 0 0,0 12,2Z"/></svg>
                Per Employee Transport Impact
            </div>
            <div class="metric-value" id="per_employee_transport">243</div>
            <div class="metric-unit">kg CO‚ÇÇ/employee/month</div>
            <div class="progress-bar"><div class="progress-fill" id="pb_emp" style="width:81%"></div></div>
            <span class="efficiency-badge badge-attention" id="badge_emp">HIGH IMPACT</span>
        </div>

        <div class="metric-card">
            <div class="metric-title">
                <svg class="icon" viewBox="0 0 24 24"><path d="M5,11L6.5,6.5H17.5L19,11M17.5,16A1.5,1.5 0 0,1 16,14.5A1.5,1.5 0 0,1 17.5,13A1.5,1.5 0 0,1 19,14.5A1.5,1.5 0 0,1 17.5,16M6.5,16A1.5,1.5 0 0,1 5,14.5A1.5,1.5 0 0,1 6.5,13A1.5,1.5 0 0,1 8,14.5A1.5,1.5 0 0,1 6.5,16"/></svg>
                Commuting Share (Car/Public/Bike)
            </div>
            <div class="metric-value" id="share_text">65% / 25% / 10%</div>
            <div class="metric-unit">modal split</div>
            <div class="progress-bar"><div class="progress-fill" id="pb_split" style="width:65%"></div></div>
            <span class="efficiency-badge badge-good" id="badge_split">BALANCED</span>
        </div>
    </div>
</div>

<!-- CALCULATIONS + BACK TO DASHBOARD (GitHub Pages uyumlu) -->
<script>
(function(){
    // GitHub Pages-aware Back button


    // Number helpers
    const fmt1 = n => (isNaN(n)?'0':n.toFixed(1));
    const fmt0 = n => (isNaN(n)?'0':Math.round(n).toString());
    const sep = n => (isNaN(n)?'0':n.toLocaleString());

    // Core calculator
    window.calculateTransportCarbon = function(){
        const employees = +document.getElementById('total_employees').value || 0;
        const avgDist = +document.getElementById('avg_distance').value || 0; // one-way
        const workDays = +document.getElementById('working_days').value || 0;
        const remoteDays = Math.min(workDays, Math.max(0, +document.getElementById('remote_days').value || 0));
        const commuteDays = Math.max(0, workDays - remoteDays);

        const carPct = Math.max(0, +document.getElementById('car_percentage').value || 0);
        const pubPct = Math.max(0, +document.getElementById('public_percentage').value || 0);
        const bikePct = Math.max(0, +document.getElementById('bike_percentage').value || 0);

        const effL100 = Math.max(0.1, +document.getElementById('car_efficiency').value || 8.5);
        const pubFactor = Math.max(0, +document.getElementById('public_factor').value || 0.06); // kg per km
        const bikeFactor = Math.max(0, +document.getElementById('bike_factor').value || 0);      // kg per km (0)

        const totalPct = carPct + pubPct + bikePct || 1;
        const carShare = carPct / totalPct, pubShare = pubPct / totalPct, bikeShare = bikePct / totalPct;

        // Monthly km per employee (round trip)
        const kmPerEmp = 2 * avgDist * commuteDays;
        const totalKm = kmPerEmp * employees;

        // Car emissions
        const carKm = totalKm * carShare;
        const liters = carKm * (effL100 / 100);             // L
        const CAR_EF = 2.31;                                 // kg CO2 per liter (approx gasoline)
        const carKg = liters * CAR_EF;
        const carT = carKg / 1000;

        // Public transport emissions
        const pubKm = totalKm * pubShare;
        const pubKg = pubKm * pubFactor;
        const pubT = pubKg / 1000;

        // Bike/walk emissions
        const bikeKm = totalKm * bikeShare;
        const bikeKg = bikeKm * bikeFactor;
        const bikeT = bikeKg / 1000;

        // Flights
        const dFlights = +document.getElementById('domestic_flights').value || 0;
        const dDist = +document.getElementById('domestic_distance').value || 0;
        const iFlights = +document.getElementById('international_flights').value || 0;
        const iDist = +document.getElementById('international_distance').value || 0;

        // Factors chosen to match example totals ~4.1t & ~7.8t
        const DOM_EF = 0.115;   // kg/km per passenger
        const INT_EF = 0.186;   // kg/km per passenger
        const domKg = dFlights * dDist * DOM_EF;
        const intKg = iFlights * iDist * INT_EF;
        const domT = domKg / 1000;
        const intT = intKg / 1000;

        const businessT = domT + intT;
        const commuteT = carT + pubT + bikeT;
        const totalT = businessT + commuteT;

        // Per-employee kg
        const perEmpKg = employees ? (totalT * 1000) / employees : 0;

        // Remote work impact (rough calc)
        const reducedKm = employees * (2 * avgDist) * remoteDays; // all modes
        const reducedCarKm = reducedKm * carShare;
        const savedLiters = reducedCarKm * (effL100 / 100);
        const savedKg = savedLiters * CAR_EF + (reducedKm * pubShare * pubFactor); // bike assumed 0
        const savedT = savedKg / 1000;
        const fuelPriceUSD = 1.25; // approx
        const costSaved = savedLiters * fuelPriceUSD;

        // Update UI
        document.getElementById('car_carbon').textContent = fmt1(carT);
        document.getElementById('public_carbon').textContent = fmt1(pubT);
        document.getElementById('bike_carbon').textContent = fmt1(bikeT);

        document.getElementById('domestic_flight_carbon').textContent = fmt1(domT);
        document.getElementById('international_flight_carbon').textContent = fmt1(intT);
        document.getElementById('total_business_travel').textContent = fmt1(businessT);

        document.getElementById('total_transport_carbon').textContent = fmt1(totalT);
        document.getElementById('per_employee_transport').textContent = fmt0(perEmpKg);

        document.getElementById('share_text').textContent =
            `${fmt0(carShare*100)}% / ${fmt0(pubShare*100)}% / ${fmt0(bikeShare*100)}%`;

        // Progress bars
        document.getElementById('pb_total').style.width = Math.min(100, (totalT/50)*100) + '%';
        document.getElementById('pb_emp').style.width = Math.min(100, (perEmpKg/300)*100) + '%';
        document.getElementById('pb_split').style.width = Math.min(100, carShare*100) + '%';

        // Badges
        const badgeTotal = document.getElementById('badge_total');
        badgeTotal.className = 'efficiency-badge ' + (totalT<20?'badge-excellent':totalT<35?'badge-good':totalT<45?'badge-attention':'badge-critical');
        badgeTotal.textContent = totalT<20?'LOW IMPACT':totalT<35?'GOOD':totalT<45?'HIGH IMPACT':'CRITICAL IMPACT';

        const badgeEmp = document.getElementById('badge_emp');
        badgeEmp.className = 'efficiency-badge ' + (perEmpKg<120?'badge-excellent':perEmpKg<200?'badge-good':perEmpKg<260?'badge-attention':'badge-critical');
        badgeEmp.textContent = perEmpKg<120?'LOW IMPACT':perEmpKg<200?'GOOD':perEmpKg<260?'HIGH IMPACT':'CRITICAL IMPACT';

        const badgeSplit = document.getElementById('badge_split');
        badgeSplit.className = 'efficiency-badge ' + (carShare<0.5?'badge-excellent':carShare<0.65?'badge-good':carShare<0.8?'badge-attention':'badge-critical');
        badgeSplit.textContent = carShare<0.5?'OPTIMAL':carShare<0.65?'BALANCED':carShare<0.8?'HIGH CAR DEP.':'CRITICAL CAR DEP.';

        // Remote work impact numbers
        document.getElementById('carbon_saved').textContent = fmt1(savedT);
        document.getElementById('km_reduced').textContent = sep(Math.round(reducedKm));
        document.getElementById('fuel_saved').textContent = sep(Math.round(savedLiters));
        document.getElementById('cost_saved').textContent = '$' + sep(Math.round(costSaved));
    };

    document.addEventListener('DOMContentLoaded', calculateTransportCarbon);
})();
</script>
</body>
</html>
